<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd"> <!-- 따로 추가 -->
<!-- ⑨ xml에 쿼리문 작성 -->

<mapper namespace="com.ohgiraffers.crud.menu.model.dao.MenuMapper"> <!-- DAO 소통창구-->
    <!-- XML 파일이 BEAN으로 등록되어 있어야 사용 가능 → yml 파일로 이동 -->

    <!-- 데이터 타입 일치를 위해 resultMap 설정-->
    <resultMap id="menuResultMap" type="com.ohgiraffers.crud.menu.model.dto.MenuDTO">
        <id property="code" column="menu_code"/> <!-- 필드와 쿼리 매칭-->
        <result property="name" column="menu_name"/>
        <result property="price" column="menu_price"/>
        <result property="categoryCode" column="category_code"/>
        <result property="orderableStatus" column="orderable_status"/>
    </resultMap>
    <!-- ⑪ 전체 조회이므로 select , id에 메서드명 입력, resultMap id 삽입 -->
    <select id="findAllmenus" resultMap="menuResultMap">
        SELECT
             MENU_CODE
            ,MENU_NAME
            ,MENU_PRICE
            ,CATEGORY_CODE
            ,ORDERABLE_STATUS
        FROM
            TBL_MENU
        WHERE
            ORDERABLE_STATUS = 'Y'
        ORDER BY
            MENU_CODE
    </select>

</mapper>